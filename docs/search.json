[{"path":"https://almartin82.github.io/mischooldata/CLAUDE.html","id":"critical-data-source-rules","dir":"","previous_headings":"","what":"CRITICAL DATA SOURCE RULES","title":"Claude Code Instructions for mischooldata","text":"NEVER use Urban Institute API, NCES CCD, federal data source — entire point packages provide STATE-LEVEL data directly state . Federal sources aggregate/transform data differently lose state-specific details. state DOE source broken, FIX find alternative STATE source — fall back federal data.","code":""},{"path":[]},{"path":"https://almartin82.github.io/mischooldata/CLAUDE.html","id":"package-overview","dir":"","previous_headings":"","what":"Package Overview","title":"Claude Code Instructions for mischooldata","text":"mischooldata fetches processes Michigan K-12 enrollment data Center Educational Performance Information (CEPI). Data sourced downloadable Excel files MI School Data website.","code":""},{"path":[]},{"path":"https://almartin82.github.io/mischooldata/CLAUDE.html","id":"primary-url","dir":"","previous_headings":"Data Sources","what":"Primary URL","title":"Claude Code Instructions for mischooldata","text":"Data files hosted : https://www.mischooldata.org/student-enrollment-counts-data-files/","code":""},{"path":"https://almartin82.github.io/mischooldata/CLAUDE.html","id":"url-patterns-by-era","dir":"","previous_headings":"Data Sources","what":"URL Patterns by Era","title":"Claude Code Instructions for mischooldata","text":"2021-present: https://www.michigan.gov/cepi/-/media/Project/Websites/cepi/MISchoolData/[YEAR]/ 2018-2020: https://michigan.gov/documents/cepi/ 1996-2017: https://www.michigan.gov/-/media/Project/Websites/cepi/MISchoolData/[YEAR]/","code":""},{"path":"https://almartin82.github.io/mischooldata/CLAUDE.html","id":"note-on-downloads","dir":"","previous_headings":"Data Sources","what":"Note on Downloads","title":"Claude Code Instructions for mischooldata","text":"michigan.gov server blocks requests without browser-like User-Agent header. download functions include proper headers.","code":""},{"path":"https://almartin82.github.io/mischooldata/CLAUDE.html","id":"available-years","dir":"","previous_headings":"","what":"Available Years","title":"Claude Code Instructions for mischooldata","text":"Min Year: 1996 (1995-96 school year) Max Year: 2025 (2024-25 school year) Year refers END school year (e.g., 2024 = 2023-24 school year).","code":""},{"path":[]},{"path":"https://almartin82.github.io/mischooldata/CLAUDE.html","id":"demographics","dir":"","previous_headings":"Available Subgroups","what":"Demographics","title":"Claude Code Instructions for mischooldata","text":"white - White black - Black/African American hispanic - Hispanic/Latino asian - Asian native_american - American Indian/Alaska Native pacific_islander - Hawaiian/Pacific Islander multiracial - Two Races","code":""},{"path":"https://almartin82.github.io/mischooldata/CLAUDE.html","id":"gender","dir":"","previous_headings":"Available Subgroups","what":"Gender","title":"Claude Code Instructions for mischooldata","text":"male - Male female - Female","code":""},{"path":"https://almartin82.github.io/mischooldata/CLAUDE.html","id":"enrollment","dir":"","previous_headings":"Available Subgroups","what":"Enrollment","title":"Claude Code Instructions for mischooldata","text":"total_enrollment - Total K-12 enrollment","code":""},{"path":"https://almartin82.github.io/mischooldata/CLAUDE.html","id":"grade-levels","dir":"","previous_headings":"Available Subgroups","what":"Grade Levels","title":"Claude Code Instructions for mischooldata","text":"K, 01, 02, 03, 04, 05, 06, 07, 08, 09, 10, 11, 12 TOTAL - grades combined","code":""},{"path":[]},{"path":"https://almartin82.github.io/mischooldata/CLAUDE.html","id":"districtbuilding-codes","dir":"","previous_headings":"Michigan-Specific Notes","what":"District/Building Codes","title":"Claude Code Instructions for mischooldata","text":"District Code: 5 digits (e.g., 82015 = Detroit Public Schools Community District) Building Code: 5 digits ISD (Intermediate School District) Code: 2-digit prefix district code","code":""},{"path":"https://almartin82.github.io/mischooldata/CLAUDE.html","id":"key-district-ids","dir":"","previous_headings":"Michigan-Specific Notes","what":"Key District IDs","title":"Claude Code Instructions for mischooldata","text":"82015 - Detroit Public Schools Community District (~48k students) 33020 - Grand Rapids Public Schools 17010 - Ann Arbor Public Schools 23010 - Flint Community Schools","code":""},{"path":"https://almartin82.github.io/mischooldata/CLAUDE.html","id":"state-enrollment","dir":"","previous_headings":"Michigan-Specific Notes","what":"State Enrollment","title":"Claude Code Instructions for mischooldata","text":"Michigan approximately 1.4 million K-12 students. number declining ~1.6 million 2010.","code":""},{"path":[]},{"path":"https://almartin82.github.io/mischooldata/CLAUDE.html","id":"data-fidelity","dir":"","previous_headings":"CRITICAL REQUIREMENTS","what":"Data Fidelity","title":"Claude Code Instructions for mischooldata","text":"tidy=TRUE version MUST maintain fidelity raw, unprocessed source file. processing data: 1. Demographics (white, black, hispanic, asian, native_american, pacific_islander, multiracial) MUST sum total_enrollment 2. Male + Female MUST equal total_enrollment 3. Grade-level sums (K-12) approximately equal total_enrollment 4. State totals ~1.3-1.5 million (zero, billions)","code":""},{"path":"https://almartin82.github.io/mischooldata/CLAUDE.html","id":"sanity-checks","dir":"","previous_headings":"CRITICAL REQUIREMENTS","what":"Sanity Checks","title":"Claude Code Instructions for mischooldata","text":"using data, always verify: 1. State total 1.3M 1.5M students 2. Detroit enrollment 30k 60k students 3. 800-900 districts 3000+ buildings 4. negative values 5. Inf NaN values","code":""},{"path":[]},{"path":"https://almartin82.github.io/mischooldata/CLAUDE.html","id":"modern-format-2016","dir":"","previous_headings":"File Format Changes by Year","what":"Modern Format (2016+)","title":"Claude Code Instructions for mischooldata","text":"Excel files 3 header rows skip Column names: “District Code”, “District Name”, “tot_all”, etc. Separate sheets Building/District/ISD/County/State Separate sheets Fall/Spring collection","code":""},{"path":"https://almartin82.github.io/mischooldata/CLAUDE.html","id":"legacy-format-1996-2015","dir":"","previous_headings":"File Format Changes by Year","what":"Legacy Format (1996-2015)","title":"Claude Code Instructions for mischooldata","text":"Excel files header rows skip Column names: “DCODE”, “DNAME”, “tot_all”, etc. Similar sheet structure different naming","code":""},{"path":"https://almartin82.github.io/mischooldata/CLAUDE.html","id":"file-extension-note","dir":"","previous_headings":"File Format Changes by Year","what":"File Extension Note","title":"Claude Code Instructions for mischooldata","text":"years: .xlsx format 2015 (2014-15): .xlsb format (may require special handling)","code":""},{"path":"https://almartin82.github.io/mischooldata/CLAUDE.html","id":"git-commit-policy","dir":"","previous_headings":"File Format Changes by Year","what":"GIT COMMIT POLICY","title":"Claude Code Instructions for mischooldata","text":"Commits allowed Claude Code attribution, Co-Authored-trailers, emojis Write normal commit messages human wrote ","code":""},{"path":"https://almartin82.github.io/mischooldata/CLAUDE.html","id":"local-testing-before-prs-required","dir":"","previous_headings":"","what":"Local Testing Before PRs (REQUIRED)","title":"Claude Code Instructions for mischooldata","text":"PRs merged CI passes. Run checks locally opening PR:","code":""},{"path":[]},{"path":"https://almartin82.github.io/mischooldata/CLAUDE.html","id":"quick-commands","dir":"","previous_headings":"Local Testing Before PRs (REQUIRED)","what":"Quick Commands","title":"Claude Code Instructions for mischooldata","text":"","code":"# R package check (required) devtools::check()  # Python tests (required) system(\"pip install -e ./pymischooldata && pytest tests/test_pymischooldata.py -v\")  # pkgdown build (required) pkgdown::build_site()"},{"path":"https://almartin82.github.io/mischooldata/CLAUDE.html","id":"pre-pr-checklist","dir":"","previous_headings":"Local Testing Before PRs (REQUIRED)","what":"Pre-PR Checklist","title":"Claude Code Instructions for mischooldata","text":"opening PR, verify: - [ ] devtools::check() — 0 errors, 0 warnings - [ ] pytest tests/test_pymischooldata.py — tests pass - [ ] pkgdown::build_site() — builds without errors - [ ] Vignettes render (eval=FALSE hacks)","code":""},{"path":[]},{"path":"https://almartin82.github.io/mischooldata/CLAUDE.html","id":"state-total-is-0","dir":"","previous_headings":"Common Issues","what":"“State total is 0”","title":"Claude Code Instructions for mischooldata","text":"bug early package versions. fix properly read State sheet Excel file, create state aggregates summing district data.","code":""},{"path":"https://almartin82.github.io/mischooldata/CLAUDE.html","id":"data-has-wrong-column-names","dir":"","previous_headings":"Common Issues","what":"“Data has wrong column names”","title":"Claude Code Instructions for mischooldata","text":"Different file formats use different column naming conventions. find_col() helper function handles multiple name patterns.","code":""},{"path":"https://almartin82.github.io/mischooldata/CLAUDE.html","id":"download-failed-with-403","dir":"","previous_headings":"Common Issues","what":"“Download failed with 403”","title":"Claude Code Instructions for mischooldata","text":"michigan.gov server requires browser-like User-Agent header. download functions now include: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","code":""},{"path":"https://almartin82.github.io/mischooldata/CLAUDE.html","id":"live-pipeline-testing","dir":"","previous_headings":"","what":"LIVE Pipeline Testing","title":"Claude Code Instructions for mischooldata","text":"package includes tests/testthat/test-pipeline-live.R LIVE network tests.","code":""},{"path":"https://almartin82.github.io/mischooldata/CLAUDE.html","id":"test-categories","dir":"","previous_headings":"LIVE Pipeline Testing","what":"Test Categories:","title":"Claude Code Instructions for mischooldata","text":"URL Availability - HTTP 200 checks File Download - Verify actual file (HTML error) File Parsing - readxl/readr succeeds Column Structure - Expected columns exist get_raw_enr() - Raw data function works Data Quality - Inf/NaN, non-negative counts Aggregation - State total > 0 Output Fidelity - tidy=TRUE matches raw","code":""},{"path":"https://almartin82.github.io/mischooldata/CLAUDE.html","id":"running-tests","dir":"","previous_headings":"LIVE Pipeline Testing","what":"Running Tests:","title":"Claude Code Instructions for mischooldata","text":"See state-schooldata/CLAUDE.md complete testing framework documentation.","code":"devtools::test(filter = \"pipeline-live\")"},{"path":[]},{"path":"https://almartin82.github.io/mischooldata/CLAUDE.html","id":"feature-branch--pr--auto-merge-policy","dir":"","previous_headings":"Git Workflow (REQUIRED)","what":"Feature Branch + PR + Auto-Merge Policy","title":"Claude Code Instructions for mischooldata","text":"NEVER push directly main. changes must go PRs auto-merge:","code":"# 1. Create feature branch git checkout -b fix/description-of-change  # 2. Make changes, commit git add -A git commit -m \"Fix: description of change\"  # 3. Push and create PR with auto-merge git push -u origin fix/description-of-change gh pr create --title \"Fix: description\" --body \"Description of changes\" gh pr merge --auto --squash  # 4. Clean up stale branches after PR merges git checkout main && git pull && git fetch --prune origin"},{"path":"https://almartin82.github.io/mischooldata/CLAUDE.html","id":"branch-cleanup-required","dir":"","previous_headings":"Git Workflow (REQUIRED)","what":"Branch Cleanup (REQUIRED)","title":"Claude Code Instructions for mischooldata","text":"Clean stale branches every time touch package:","code":"# Delete local branches merged to main git branch --merged main | grep -v main | xargs -r git branch -d  # Prune remote tracking branches git fetch --prune origin"},{"path":"https://almartin82.github.io/mischooldata/CLAUDE.html","id":"auto-merge-requirements","dir":"","previous_headings":"Git Workflow (REQUIRED)","what":"Auto-Merge Requirements","title":"Claude Code Instructions for mischooldata","text":"PRs auto-merge CI checks pass: - R-CMD-check (0 errors, 0 warnings) - Python tests (py{st}schooldata exists) - pkgdown build (vignettes must render) CI fails, fix issue push - auto-merge triggers checks pass.","code":""},{"path":"https://almartin82.github.io/mischooldata/CLAUDE.html","id":"readme-images-from-vignettes-required","dir":"","previous_headings":"","what":"README Images from Vignettes (REQUIRED)","title":"Claude Code Instructions for mischooldata","text":"NEVER use man/figures/ generate_readme_figs.R README images. README images MUST come pkgdown-generated vignette output auto-update merge: : Vignette figures regenerate automatically pkgdown builds. Manual man/figures/ requires running separate script easy forget, causing stale/broken images.","code":"![Chart name](https://almartin82.github.io/{package}/articles/{vignette}_files/figure-html/{chunk-name}-1.png)"},{"path":"https://almartin82.github.io/mischooldata/EXPANSION.html","id":null,"dir":"","previous_headings":"","what":"Michigan School Data Expansion Research","title":"Michigan School Data Expansion Research","text":"Last Updated: 2026-01-04 Theme Researched: Graduation/Dropout Rates","code":""},{"path":[]},{"path":"https://almartin82.github.io/mischooldata/EXPANSION.html","id":"primary-source-mi-school-data-graduationdropout-reports","dir":"","previous_headings":"Data Sources Found","what":"Primary Source: MI School Data Graduation/Dropout Reports","title":"Michigan School Data Expansion Research","text":"Michigan provides cohort-based graduation dropout rate data CEPI (Center Educational Performance Information) MI School Data. Main Download Page: https://www.mischooldata.org/graddropout-rates-data-files/","code":""},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":"https://almartin82.github.io/mischooldata/EXPANSION.html","id":"era-4-pre-cohort-historical-data-2000-2006---dbf-format","dir":"","previous_headings":"Data Sources Found > Available Data Files by Era","what":"Era 4: Pre-Cohort Historical Data (2000-2006) - DBF Format","title":"Michigan School Data Expansion Research","text":"Historical graduation/dropout data available DBF (dBASE) format district building level. use different calculation methodology (cohort-based).","code":""},{"path":[]},{"path":"https://almartin82.github.io/mischooldata/EXPANSION.html","id":"sheet-structure-modern-files-2019-2024","dir":"","previous_headings":"Schema Analysis","what":"Sheet Structure (Modern Files 2019-2024)","title":"Michigan School Data Expansion Research","text":"Excel file contains multiple sheets: Table Content - Navigation Definitions - Column definitions YYYY 4-Yr Grad Drop - 4-year cohort graduation/dropout rates YYYY-1 5-Yr Grad Drop - 5-year cohort rates YYYY-2 6-Yr Grad Drop - 6-year cohort rates YYYY 4-Yr Subgroup - 4-year rates demographic subgroups YYYY-1 5-Yr Subgroup - 5-year subgroup rates YYYY-2 6-Yr Subgroup - 6-year subgroup rates YYYY 4-Yr Crosstab - Cross-tabulated data YYYY-1 5-Yr Crosstab - 5-year crosstab YYYY-2 6-Yr Crosstab - 6-year crosstab","code":""},{"path":"https://almartin82.github.io/mischooldata/EXPANSION.html","id":"main-graduationdropout-sheet-columns","dir":"","previous_headings":"Schema Analysis","what":"Main Graduation/Dropout Sheet Columns","title":"Michigan School Data Expansion Research","text":"Skip 2 rows get column headers.","code":""},{"path":[]},{"path":[]},{"path":[]},{"path":"https://almartin82.github.io/mischooldata/EXPANSION.html","id":"id-system","dir":"","previous_headings":"Schema Analysis","what":"ID System","title":"Michigan School Data Expansion Research","text":"ISD Code: 2 digits (Intermediate School District) District Code: 5 digits, preserves leading zeros Building Code: 5 digits, preserves leading zeros State-level: DistrictCode = 00000, BuildingCode = 00000","code":""},{"path":"https://almartin82.github.io/mischooldata/EXPANSION.html","id":"known-data-issues","dir":"","previous_headings":"Schema Analysis","what":"Known Data Issues","title":"Michigan School Data Expansion Research","text":"Suppression markers: < 10 small counts (privacy protection) Rates decimals: 0.8283 82.83% Multi-row headers: Skip 2 rows actual column names Newlines column names: \\r\\n embedded column headers Different file naming patterns year: consistent URL pattern","code":""},{"path":[]},{"path":[]},{"path":"https://almartin82.github.io/mischooldata/EXPANSION.html","id":"validation-rules","dir":"","previous_headings":"Time Series Heuristics","what":"Validation Rules","title":"Michigan School Data Expansion Research","text":"","code":"# State cohort should be 100K-130K students expect_gt(state_cohort, 100000) expect_lt(state_cohort, 130000)  # Graduation rate should be 75-90% expect_gt(grad_rate, 0.75) expect_lt(grad_rate, 0.90)  # Dropout rate should be 3-15% expect_gt(dropout_rate, 0.03) expect_lt(dropout_rate, 0.15)  # Year-over-year graduation rate change < 5 percentage points expect_lt(abs(current_rate - previous_rate), 0.05)  # Major districts (Detroit) should exist in all years expect_true(\"82015\" %in% data$district_code)"},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":"https://almartin82.github.io/mischooldata/EXPANSION.html","id":"implementation-steps","dir":"","previous_headings":"Recommended Implementation","what":"Implementation Steps","title":"Michigan School Data Expansion Research","text":"Handle 4 different URL/file naming patterns era Handle ZIP file extraction 2012-2018 Support years 2007-2024 get_raw_grad(end_year, cohort_type = c(\"4yr\", \"5yr\", \"6yr\")) Download parse Excel sheets Handle multi-row headers (skip 2 rows) Clean column names (remove \\r\\n) process_grad(raw_data, end_year) Standardize column names across years Handle suppression markers (< 10 -> NA) Convert rates consistent format Separate state/district/building levels tidy_grad(processed_data) Long format subgroup column Add aggregation flags (is_state, is_district, is_building) fetch_grad(end_year, cohort_type = \"4yr\", tidy = TRUE, use_cache = TRUE) fetch_grad_multi(end_years, ...) Update NAMESPACE documentation","code":""},{"path":"https://almartin82.github.io/mischooldata/EXPANSION.html","id":"proposed-function-signatures","dir":"","previous_headings":"Recommended Implementation","what":"Proposed Function Signatures","title":"Michigan School Data Expansion Research","text":"","code":"# Main user-facing function fetch_grad(end_year, cohort_type = \"4yr\", subgroups = FALSE, tidy = TRUE, use_cache = TRUE)  # Multi-year fetch fetch_grad_multi(end_years, cohort_type = \"4yr\", subgroups = FALSE, tidy = TRUE, use_cache = TRUE)  # Internal functions get_grad_url(end_year) get_raw_grad(end_year, cohort_type) process_grad(raw_data, end_year) process_grad_subgroups(raw_data, end_year) tidy_grad(processed_data)"},{"path":[]},{"path":"https://almartin82.github.io/mischooldata/EXPANSION.html","id":"raw-data-fidelity-tests-needed","dir":"","previous_headings":"Test Requirements","what":"Raw Data Fidelity Tests Needed","title":"Michigan School Data Expansion Research","text":"","code":"test_that(\"2024 state graduation rate matches raw Excel\", {   skip_if_offline()   data <- fetch_grad(2024, tidy = FALSE)   state <- data[data$district_code == \"00000\", ]   # Raw Excel value: 0.8283   expect_equal(state$graduation_rate, 0.8283, tolerance = 0.0001) })  test_that(\"2024 state cohort size matches raw Excel\", {   skip_if_offline()   data <- fetch_grad(2024, tidy = FALSE)   state <- data[data$district_code == \"00000\", ]   # Raw Excel value: 115097   expect_equal(state$cohort_size, 115097) })  test_that(\"2019 state graduation rate matches raw Excel\", {   skip_if_offline()   data <- fetch_grad(2019, tidy = FALSE)   state <- data[data$district_code == \"00000\", ]   # Need to verify from 2019 file })"},{"path":"https://almartin82.github.io/mischooldata/EXPANSION.html","id":"data-quality-checks","dir":"","previous_headings":"Test Requirements","what":"Data Quality Checks","title":"Michigan School Data Expansion Research","text":"","code":"test_that(\"No negative graduation rates\", {   data <- fetch_grad(2024)   expect_true(all(data$graduation_rate >= 0, na.rm = TRUE)) })  test_that(\"Graduation rate <= 1.0\", {   data <- fetch_grad(2024)   expect_true(all(data$graduation_rate <= 1.0, na.rm = TRUE)) })  test_that(\"State total exists for all years\", {   for (year in 2019:2024) {     data <- fetch_grad(year, tidy = FALSE)     expect_true(any(data$district_code == \"00000\"))   } })  test_that(\"Subgroups sum approximately to total\", {   data <- fetch_grad(2024, subgroups = TRUE, tidy = TRUE)   state <- data[data$is_state & data$subgroup %in% c(\"Male\", \"Female\"), ]   total <- data[data$is_state & data$subgroup == \"All Students\", ]   # Male + Female should approximately equal All Students   gender_sum <- sum(state$cohort_size)   expect_equal(gender_sum, total$cohort_size[[1]], tolerance = 100) })"},{"path":"https://almartin82.github.io/mischooldata/EXPANSION.html","id":"live-pipeline-tests","dir":"","previous_headings":"Test Requirements","what":"LIVE Pipeline Tests","title":"Michigan School Data Expansion Research","text":"URL Availability - era URLs return 200 File Download - Files download completely (HTML error pages) File Parsing - readxl can read sheets Column Structure - Expected columns exist Year Filtering - cohort year extracts correctly Aggregation - State = sum districts Data Quality - Inf/NaN, rates 0-1 range Output Fidelity - tidy=TRUE matches raw","code":""},{"path":[]},{"path":"https://almartin82.github.io/mischooldata/EXPANSION.html","id":"critical-package-status","dir":"","previous_headings":"Notes","what":"CRITICAL: Package Status","title":"Michigan School Data Expansion Research","text":"mischooldata package currently FAILING R-CMD-check. implementing graduation data, existing issues must fixed first.","code":""},{"path":"https://almartin82.github.io/mischooldata/EXPANSION.html","id":"access-method","dir":"","previous_headings":"Notes","what":"Access Method","title":"Michigan School Data Expansion Research","text":"Direct HTTPS download Requires browser User-Agent header (enrollment) ZIP files 2012-2018 era need extraction","code":""},{"path":"https://almartin82.github.io/mischooldata/EXPANSION.html","id":"update-frequency","dir":"","previous_headings":"Notes","what":"Update Frequency","title":"Michigan School Data Expansion Research","text":"Annual release (typically spring following school year end) 4-year, 5-year, 6-year cohort rates released together","code":""},{"path":"https://almartin82.github.io/mischooldata/EXPANSION.html","id":"documentation-references","dir":"","previous_headings":"Notes","what":"Documentation References","title":"Michigan School Data Expansion Research","text":"Understanding Michigan’s Cohort Graduation Dropout Rates FAQs Michigan’s Cohort Graduation Dropout Rates","code":""},{"path":"https://almartin82.github.io/mischooldata/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2026 Andy Martin Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://almartin82.github.io/mischooldata/articles/enrollment-trends.html","id":"detroits-collapse-is-staggering","dir":"Articles","previous_headings":"","what":"1. Detroit’s collapse is staggering","title":"Michigan Enrollment Trends","text":"Detroit Public Schools Community District lost 100,000 students since 2000, now serving 50,000. represents one dramatic urban enrollment declines American education history.","code":"detroit <- enr_long %>%   filter(is_district, district_id == \"82015\",          subgroup == \"total_enrollment\", grade_level == \"TOTAL\")  ggplot(detroit, aes(x = end_year, y = n_students)) +   geom_line(linewidth = 1.5, color = colors[\"total\"]) +   geom_point(size = 3, color = colors[\"total\"]) +   scale_y_continuous(labels = comma, limits = c(0, NA)) +   labs(title = \"Detroit Public Schools Collapse\",        subtitle = \"Lost over 100,000 students since 2000\",        x = \"School Year\", y = \"Students\") +   theme_readme()"},{"path":"https://almartin82.github.io/mischooldata/articles/enrollment-trends.html","id":"statewide-enrollment-has-been-declining","dir":"Articles","previous_headings":"","what":"2. Statewide enrollment has been declining","title":"Michigan Enrollment Trends","text":"Michigan lost hundreds thousands students since 2000, reflecting demographic shifts economic changes. state peaked around 1.7 million K-12 students now serves approximately 1.4 million.","code":"state <- enr %>%   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\")  ggplot(state, aes(x = end_year, y = n_students)) +   geom_line(linewidth = 1.5, color = colors[\"total\"]) +   geom_point(size = 3, color = colors[\"total\"]) +   scale_y_continuous(labels = comma) +   labs(title = \"Michigan Statewide Enrollment Decline\",        subtitle = \"Total K-12 enrollment trending downward\",        x = \"School Year\", y = \"Students\") +   theme_readme()"},{"path":"https://almartin82.github.io/mischooldata/articles/enrollment-trends.html","id":"grand-rapids-is-more-diverse-than-you-think","dir":"Articles","previous_headings":"","what":"3. Grand Rapids is more diverse than you think","title":"Michigan Enrollment Trends","text":"Michigan’s second-largest city become majority-minority, Hispanic enrollment growing fastest. Grand Rapids Public Schools now reflects highly diverse student population.","code":"gr <- enr %>%   filter(is_district, grepl(\"Grand Rapids\", district_name, ignore.case = TRUE),          grade_level == \"TOTAL\",          subgroup %in% c(\"white\", \"black\", \"hispanic\", \"asian\"))  ggplot(gr, aes(x = end_year, y = pct * 100, color = subgroup)) +   geom_line(linewidth = 1.2) +   geom_point(size = 2.5) +   scale_color_manual(values = colors,                      labels = c(\"Asian\", \"Black\", \"Hispanic\", \"White\")) +   labs(title = \"Grand Rapids is Majority-Minority\",        subtitle = \"More diverse than you might think\",        x = \"School Year\", y = \"Percent\", color = \"\") +   theme_readme()"},{"path":"https://almartin82.github.io/mischooldata/articles/enrollment-trends.html","id":"the-upper-peninsula-is-emptying-out","dir":"Articles","previous_headings":"","what":"4. The Upper Peninsula is emptying out","title":"Michigan Enrollment Trends","text":"districts lost 25-40% students since 2000 region’s population ages young families move south. rural decline mirrors national patterns particularly acute Michigan’s northern reaches.","code":"up_districts <- c(\"Marquette\", \"Houghton\", \"Iron Mountain\", \"Menominee\") up <- enr_long %>%   filter(is_district, grepl(paste(up_districts, collapse = \"|\"), district_name, ignore.case = TRUE),          subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   group_by(end_year) %>%   summarize(n_students = sum(n_students, na.rm = TRUE), .groups = \"drop\")  ggplot(up, aes(x = end_year, y = n_students)) +   geom_line(linewidth = 1.5, color = colors[\"total\"]) +   geom_point(size = 3, color = colors[\"total\"]) +   scale_y_continuous(labels = comma) +   labs(title = \"Upper Peninsula Emptying Out\",        subtitle = \"Marquette, Houghton, Iron Mountain, Menominee combined\",        x = \"School Year\", y = \"Students\") +   theme_readme()"},{"path":"https://almartin82.github.io/mischooldata/articles/enrollment-trends.html","id":"covid-hit-kindergarten-hard","dir":"Articles","previous_headings":"","what":"5. COVID hit kindergarten hard","title":"Michigan Enrollment Trends","text":"Michigan lost nearly 10,000 kindergartners 2021 hasn’t fully recovered. pandemic disrupted transition formal schooling thousands Michigan families.","code":"k_trend <- enr %>%   filter(is_state, subgroup == \"total_enrollment\",          grade_level %in% c(\"K\", \"01\", \"06\", \"12\")) %>%   mutate(grade_label = case_when(     grade_level == \"K\" ~ \"Kindergarten\",     grade_level == \"01\" ~ \"Grade 1\",     grade_level == \"06\" ~ \"Grade 6\",     grade_level == \"12\" ~ \"Grade 12\"   ))  ggplot(k_trend, aes(x = end_year, y = n_students, color = grade_label)) +   geom_line(linewidth = 1.2) +   geom_point(size = 2.5) +   geom_vline(xintercept = 2021, linetype = \"dashed\", color = \"red\", alpha = 0.5) +   scale_y_continuous(labels = comma) +   labs(title = \"COVID Hit Michigan Kindergarten Hard\",        subtitle = \"Lost nearly 10,000 kindergartners in 2021\",        x = \"School Year\", y = \"Students\", color = \"\") +   theme_readme()"},{"path":"https://almartin82.github.io/mischooldata/articles/enrollment-trends.html","id":"ann-arbor-island-of-stability","dir":"Articles","previous_headings":"","what":"6. Ann Arbor: island of stability","title":"Michigan Enrollment Trends","text":"Detroit hemorrhages students, Ann Arbor maintains around 17,000 high diversity. university town’s economic stability educated workforce create different enrollment trajectory.","code":"aa <- enr %>%   filter(is_district, grepl(\"Ann Arbor\", district_name, ignore.case = TRUE),          subgroup == \"total_enrollment\", grade_level == \"TOTAL\")  ggplot(aa, aes(x = end_year, y = n_students)) +   geom_line(linewidth = 1.5, color = colors[\"total\"]) +   geom_point(size = 3, color = colors[\"total\"]) +   scale_y_continuous(labels = comma, limits = c(0, NA)) +   labs(title = \"Ann Arbor: Island of Stability\",        subtitle = \"Maintains ~17,000 students while Detroit collapses\",        x = \"School Year\", y = \"Students\") +   theme_readme()"},{"path":"https://almartin82.github.io/mischooldata/articles/enrollment-trends.html","id":"multiracial-enrollment-growing-fastest","dir":"Articles","previous_headings":"","what":"7. Multiracial enrollment growing fastest","title":"Michigan Enrollment Trends","text":"Multiracial students Michigan’s fastest-growing demographic, increasing 31% 57,291 75,055 students since 2018. overall enrollment declines, multiracial Hispanic populations continue grow, reshaping state’s educational demographics.","code":"multiracial_state <- enr %>%   filter(is_state, subgroup == \"multiracial\", grade_level == \"TOTAL\")  ggplot(multiracial_state, aes(x = end_year, y = n_students)) +   geom_line(linewidth = 1.5, color = colors[\"multiracial\"]) +   geom_point(size = 3, color = colors[\"multiracial\"]) +   scale_y_continuous(labels = comma) +   labs(title = \"Multiracial Enrollment Growing Statewide\",        subtitle = \"Fastest-growing demographic in Michigan schools (+31% since 2018)\",        x = \"School Year\", y = \"Students\") +   theme_readme()"},{"path":"https://almartin82.github.io/mischooldata/articles/enrollment-trends.html","id":"largest-districts-by-enrollment","dir":"Articles","previous_headings":"","what":"8. Largest districts by enrollment","title":"Michigan Enrollment Trends","text":"10 largest districts represent mix urban, suburban, diverse communities. Detroit remains largest despite decades decline, followed suburban powerhouses like Utica Dearborn.","code":"largest <- enr_current %>%   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   arrange(desc(n_students)) %>%   head(10) %>%   mutate(district_label = reorder(district_name, n_students))  ggplot(largest, aes(x = district_label, y = n_students)) +   geom_col(fill = colors[\"total\"]) +   coord_flip() +   scale_y_continuous(labels = comma) +   labs(title = \"Michigan's Largest School Districts\",        subtitle = \"Top 10 districts by total enrollment\",        x = \"\", y = \"Total Students\") +   theme_readme()"},{"path":"https://almartin82.github.io/mischooldata/articles/enrollment-trends.html","id":"flints-water-crisis-visible-in-enrollment","dir":"Articles","previous_headings":"","what":"9. Flint’s water crisis visible in enrollment","title":"Michigan Enrollment Trends","text":"Flint, School District City , lost 44% students since 2018, dropping 4,503 2,541. water crisis accelerated already declining enrollment families fled city.","code":"flint <- enr %>%   filter(is_district, grepl(\"Flint, School District\", district_name, ignore.case = TRUE),          subgroup == \"total_enrollment\", grade_level == \"TOTAL\")  ggplot(flint, aes(x = end_year, y = n_students)) +   geom_line(linewidth = 1.5, color = colors[\"total\"]) +   geom_point(size = 3, color = colors[\"total\"]) +   scale_y_continuous(labels = comma, limits = c(0, NA)) +   labs(title = \"Flint's Water Crisis Visible in Enrollment\",        subtitle = \"Lost over 40% of students during and after the crisis\",        x = \"School Year\", y = \"Students\") +   theme_readme()"},{"path":"https://almartin82.github.io/mischooldata/articles/enrollment-trends.html","id":"oakland-county-suburbs-holding","dir":"Articles","previous_headings":"","what":"10. Oakland County suburbs holding","title":"Michigan Enrollment Trends","text":"Oakland County districts like Troy, Rochester, Novi maintain enrollment Detroit collapses. affluent suburbs benefit strong economies excellent school reputations.","code":"oakland <- c(\"Troy\", \"Rochester\", \"Novi\", \"Farmington\") oakland_trend <- enr %>%   filter(is_district, grepl(paste(oakland, collapse = \"|\"), district_name, ignore.case = TRUE),          subgroup == \"total_enrollment\", grade_level == \"TOTAL\")  ggplot(oakland_trend, aes(x = end_year, y = n_students, color = district_name)) +   geom_line(linewidth = 1.2) +   geom_point(size = 2.5) +   scale_y_continuous(labels = comma) +   labs(title = \"Oakland County Suburbs Holding\",        subtitle = \"Troy, Rochester, Novi, Farmington stable\",        x = \"School Year\", y = \"Students\", color = \"\") +   theme_readme()"},{"path":"https://almartin82.github.io/mischooldata/articles/enrollment-trends.html","id":"dearborn-arab-american-hub","dir":"Articles","previous_headings":"","what":"11. Dearborn: Arab American educational hub","title":"Michigan Enrollment Trends","text":"Dearborn City School District serves one largest Arab American communities nation 19,168 students. district maintains stable enrollment unique demographic profile.","code":"dearborn <- enr %>%   filter(is_district, grepl(\"Dearborn City\", district_name, ignore.case = TRUE),          subgroup == \"total_enrollment\", grade_level == \"TOTAL\")  ggplot(dearborn, aes(x = end_year, y = n_students)) +   geom_line(linewidth = 1.5, color = colors[\"total\"]) +   geom_point(size = 3, color = colors[\"total\"]) +   scale_y_continuous(labels = comma, limits = c(0, NA)) +   labs(title = \"Dearborn: A Unique Michigan Story\",        subtitle = \"Home to largest Arab American student population in the US\",        x = \"School Year\", y = \"Students\") +   theme_readme()"},{"path":"https://almartin82.github.io/mischooldata/articles/enrollment-trends.html","id":"black-enrollment-declining","dir":"Articles","previous_headings":"","what":"12. Black student enrollment declining","title":"Michigan Enrollment Trends","text":"Black student enrollment Michigan declined significantly, driven primarily Detroit’s collapse. demographic shift reshaping state’s educational landscape.","code":"black_state <- enr %>%   filter(is_state, subgroup == \"black\", grade_level == \"TOTAL\")  ggplot(black_state, aes(x = end_year, y = n_students)) +   geom_line(linewidth = 1.5, color = colors[\"black\"]) +   geom_point(size = 3, color = colors[\"black\"]) +   scale_y_continuous(labels = comma) +   labs(title = \"Black Student Enrollment Declining\",        subtitle = \"Driven by Detroit's population loss\",        x = \"School Year\", y = \"Students\") +   theme_readme()"},{"path":"https://almartin82.github.io/mischooldata/articles/enrollment-trends.html","id":"lansing-bucking-decline","dir":"Articles","previous_headings":"","what":"13. Lansing bucking the urban decline","title":"Michigan Enrollment Trends","text":"Unlike Detroit Flint, Lansing Public School District maintained relatively stable enrollment around 10,000 students. state capital’s diverse economy state government employment provide buffer losses seen urban cores.","code":"lansing <- enr %>%   filter(is_district, grepl(\"Lansing Public School District\", district_name, ignore.case = TRUE),          subgroup == \"total_enrollment\", grade_level == \"TOTAL\")  ggplot(lansing, aes(x = end_year, y = n_students)) +   geom_line(linewidth = 1.5, color = colors[\"total\"]) +   geom_point(size = 3, color = colors[\"total\"]) +   scale_y_continuous(labels = comma, limits = c(0, NA)) +   labs(title = \"Lansing Bucking the Urban Decline\",        subtitle = \"State capital maintains stability while other cities collapse\",        x = \"School Year\", y = \"Students\") +   theme_readme()"},{"path":"https://almartin82.github.io/mischooldata/articles/enrollment-trends.html","id":"high-school-shrinking","dir":"Articles","previous_headings":"","what":"14. High school enrollment shrinking faster","title":"Michigan Enrollment Trends","text":"High school grades shrinking faster elementary grades statewide, birth rate decline 2008 recession reaches secondary schools.","code":"grade_bands <- enr %>%   filter(is_state, subgroup == \"total_enrollment\",          grade_level %in% c(\"K\", \"01\", \"02\", \"03\", \"04\", \"05\",                             \"09\", \"10\", \"11\", \"12\")) %>%   mutate(level = ifelse(grade_level %in% c(\"K\", \"01\", \"02\", \"03\", \"04\", \"05\"),                         \"Elementary (K-5)\", \"High School (9-12)\")) %>%   group_by(end_year, level) %>%   summarize(n_students = sum(n_students, na.rm = TRUE), .groups = \"drop\")  ggplot(grade_bands, aes(x = end_year, y = n_students, color = level)) +   geom_line(linewidth = 1.2) +   geom_point(size = 2.5) +   scale_y_continuous(labels = comma) +   labs(title = \"High School Shrinking Faster Than Elementary\",        subtitle = \"2008 recession birth rate decline reaching high school\",        x = \"School Year\", y = \"Students\", color = \"\") +   theme_readme()"},{"path":"https://almartin82.github.io/mischooldata/articles/enrollment-trends.html","id":"demographic-transformation","dir":"Articles","previous_headings":"","what":"15. Demographic transformation: Michigan’s changing face","title":"Michigan Enrollment Trends","text":"Michigan’s racial demographics shifting dramatically. White student enrollment declined substantially Hispanic multiracial populations grow. transformation reshape Michigan education decades.","code":"demo_state <- enr %>%   filter(is_state, grade_level == \"TOTAL\",          subgroup %in% c(\"white\", \"black\", \"hispanic\", \"asian\", \"multiracial\"))  ggplot(demo_state, aes(x = end_year, y = pct * 100, color = subgroup)) +   geom_line(linewidth = 1.2) +   geom_point(size = 2.5) +   scale_color_manual(values = colors,                      labels = c(\"Asian\", \"Black\", \"Hispanic\", \"Multiracial\", \"White\")) +   scale_y_continuous(limits = c(0, NA)) +   labs(title = \"Michigan's Demographic Transformation\",        subtitle = \"White enrollment declining, Hispanic and multiracial growing\",        x = \"School Year\", y = \"Percent of Students\", color = \"\") +   theme_readme() sessionInfo() #> R version 4.5.0 (2025-04-11) #> Platform: aarch64-apple-darwin22.6.0 #> Running under: macOS 26.1 #>  #> Matrix products: default #> BLAS:   /opt/homebrew/Cellar/openblas/0.3.30/lib/libopenblasp-r0.3.30.dylib  #> LAPACK: /opt/homebrew/Cellar/r/4.5.0/lib/R/lib/libRlapack.dylib;  LAPACK version 3.12.1 #>  #> locale: #> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8 #>  #> time zone: America/New_York #> tzcode source: internal #>  #> attached base packages: #> [1] stats     graphics  grDevices utils     datasets  methods   base      #>  #> other attached packages: #> [1] scales_1.4.0       dplyr_1.1.4        ggplot2_4.0.1      mischooldata_0.1.0 #>  #> loaded via a namespace (and not attached): #>  [1] gtable_0.3.6       jsonlite_2.0.0     compiler_4.5.0     tidyselect_1.2.1   #>  [5] jquerylib_0.1.4    systemfonts_1.3.1  textshaping_1.0.4  yaml_2.3.12        #>  [9] fastmap_1.2.0      R6_2.6.1           labeling_0.4.3     generics_0.1.4     #> [13] knitr_1.51         htmlwidgets_1.6.4  tibble_3.3.1       desc_1.4.3         #> [17] bslib_0.9.0        pillar_1.11.1      RColorBrewer_1.1-3 rlang_1.1.7        #> [21] cachem_1.1.0       xfun_0.55          fs_1.6.6           sass_0.4.10        #> [25] S7_0.2.1           otel_0.2.0         cli_3.6.5          pkgdown_2.2.0      #> [29] withr_3.0.2        magrittr_2.0.4     digest_0.6.39      grid_4.5.0         #> [33] lifecycle_1.0.5    vctrs_0.7.0        evaluate_1.0.5     glue_1.8.0         #> [37] farver_2.1.2       codetools_0.2-20   ragg_1.5.0         rmarkdown_2.30     #> [41] tools_4.5.0        pkgconfig_2.0.3    htmltools_0.5.9"},{"path":"https://almartin82.github.io/mischooldata/articles/mischooldata.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Getting Started with mischooldata","text":"mischooldata package provides access Michigan K-12 enrollment data Center Educational Performance Information (CEPI). Data available 1996 present public schools, districts, state.","code":""},{"path":"https://almartin82.github.io/mischooldata/articles/mischooldata.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"Getting Started with mischooldata","text":"","code":"# Install from GitHub remotes::install_github(\"almartin82/mischooldata\")"},{"path":[]},{"path":"https://almartin82.github.io/mischooldata/articles/mischooldata.html","id":"fetch-a-single-year","dir":"Articles","previous_headings":"Quick Start","what":"Fetch a Single Year","title":"Getting Started with mischooldata","text":"","code":"library(mischooldata) library(dplyr)  # Get 2024 enrollment data (2023-24 school year) enr_2024 <- fetch_enr(2024, use_cache = TRUE)  # View state total enr_2024 |>   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   select(end_year, n_students)"},{"path":"https://almartin82.github.io/mischooldata/articles/mischooldata.html","id":"fetch-multiple-years","dir":"Articles","previous_headings":"Quick Start","what":"Fetch Multiple Years","title":"Getting Started with mischooldata","text":"","code":"# Get 5 years of data enr_multi <- fetch_enr_multi(2020:2024, use_cache = TRUE)  # Track statewide enrollment over time enr_multi |>   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   select(end_year, n_students) |>   arrange(end_year)"},{"path":"https://almartin82.github.io/mischooldata/articles/mischooldata.html","id":"check-available-years","dir":"Articles","previous_headings":"Quick Start","what":"Check Available Years","title":"Getting Started with mischooldata","text":"","code":"# See what years are available get_available_years()"},{"path":"https://almartin82.github.io/mischooldata/articles/mischooldata.html","id":"data-structure","dir":"Articles","previous_headings":"","what":"Data Structure","title":"Getting Started with mischooldata","text":"tidy format (default) following columns: end_year: School year end (2024 = 2023-24) type: “State”, “District”, “Building” district_id: 5-digit district code campus_id: 5-digit building code (NA district/state rows) district_name: District name campus_name: Building name (NA district/state rows) grade_level: “TOTAL”, “K”, “01”, “02”, …, “12” subgroup: Demographic total (“total_enrollment”, “white”, “black”, etc.) n_students: Enrollment count pct: Percentage total enrollment is_state: TRUE state-level rows is_district: TRUE district-level rows is_campus: TRUE building-level rows","code":""},{"path":[]},{"path":"https://almartin82.github.io/mischooldata/articles/mischooldata.html","id":"find-largest-districts","dir":"Articles","previous_headings":"Common Queries","what":"Find Largest Districts","title":"Getting Started with mischooldata","text":"","code":"enr_2024 |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   arrange(desc(n_students)) |>   select(district_name, n_students) |>   head(10)"},{"path":"https://almartin82.github.io/mischooldata/articles/mischooldata.html","id":"get-detroit-enrollment","dir":"Articles","previous_headings":"Common Queries","what":"Get Detroit Enrollment","title":"Getting Started with mischooldata","text":"","code":"# Detroit Public Schools Community District = 82015 enr_2024 |>   filter(district_id == \"82015\", grade_level == \"TOTAL\") |>   select(subgroup, n_students, pct) |>   arrange(desc(n_students))"},{"path":"https://almartin82.github.io/mischooldata/articles/mischooldata.html","id":"analyze-demographics-over-time","dir":"Articles","previous_headings":"Common Queries","what":"Analyze Demographics Over Time","title":"Getting Started with mischooldata","text":"","code":"enr_multi |>   filter(is_state, grade_level == \"TOTAL\",          subgroup %in% c(\"white\", \"black\", \"hispanic\", \"asian\")) |>   select(end_year, subgroup, n_students) |>   tidyr::pivot_wider(names_from = subgroup, values_from = n_students)"},{"path":"https://almartin82.github.io/mischooldata/articles/mischooldata.html","id":"track-kindergarten-enrollment-covid-impact","dir":"Articles","previous_headings":"Common Queries","what":"Track Kindergarten Enrollment (COVID Impact)","title":"Getting Started with mischooldata","text":"","code":"enr_multi |>   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"K\") |>   select(end_year, n_students) |>   arrange(end_year)"},{"path":"https://almartin82.github.io/mischooldata/articles/mischooldata.html","id":"wide-format","dir":"Articles","previous_headings":"","what":"Wide Format","title":"Getting Started with mischooldata","text":"analysis needs demographics columns, use tidy = FALSE:","code":"wide_2024 <- fetch_enr(2024, tidy = FALSE, use_cache = TRUE)  # Contains columns like: row_total, white, black, hispanic, asian, # grade_k, grade_01, etc. names(wide_2024)"},{"path":"https://almartin82.github.io/mischooldata/articles/mischooldata.html","id":"caching","dir":"Articles","previous_headings":"","what":"Caching","title":"Getting Started with mischooldata","text":"Data cached locally avoid repeated downloads:","code":"# View cached files cache_status()  # Clear specific year clear_cache(2024)  # Clear all cached data clear_cache()  # Force fresh download (ignore cache) enr_fresh <- fetch_enr(2024, use_cache = FALSE)"},{"path":[]},{"path":"https://almartin82.github.io/mischooldata/articles/mischooldata.html","id":"district-codes","dir":"Articles","previous_headings":"Michigan-Specific Notes","what":"District Codes","title":"Getting Started with mischooldata","text":"Michigan uses 5-digit district codes. first two digits indicate Intermediate School District (ISD): 82xxx - Wayne RESA (includes Detroit) 63xxx - Oakland Schools 50xxx - Macomb ISD 33xxx - Kent ISD (includes Grand Rapids)","code":""},{"path":[]},{"path":"https://almartin82.github.io/mischooldata/articles/mischooldata.html","id":"historical-context","dir":"Articles","previous_headings":"Michigan-Specific Notes","what":"Historical Context","title":"Getting Started with mischooldata","text":"Michigan enrollment declining: - 2010: ~1.6 million students - 2020: ~1.4 million students - Detroit lost 100,000 students since 2000","code":""},{"path":[]},{"path":"https://almartin82.github.io/mischooldata/articles/mischooldata.html","id":"slow-downloads","dir":"Articles","previous_headings":"Troubleshooting","what":"Slow Downloads","title":"Getting Started with mischooldata","text":"Initial downloads may take 1-2 minutes files ~10MB . Use caching avoid repeated downloads.","code":""},{"path":"https://almartin82.github.io/mischooldata/articles/mischooldata.html","id":"missing-data","dir":"Articles","previous_headings":"Troubleshooting","what":"Missing Data","title":"Getting Started with mischooldata","text":"years subgroups may suppressed data (shown NA) privacy protection counts small.","code":""},{"path":"https://almartin82.github.io/mischooldata/articles/mischooldata.html","id":"xlsb-format","dir":"Articles","previous_headings":"Troubleshooting","what":"xlsb Format","title":"Getting Started with mischooldata","text":"2015 (2014-15) file uses .xlsb format may require additional software read.","code":""},{"path":"https://almartin82.github.io/mischooldata/articles/mischooldata.html","id":"historical-data-formats","dir":"Articles","previous_headings":"Troubleshooting","what":"Historical Data Formats","title":"Getting Started with mischooldata","text":"Michigan’s data files evolved time different column naming conventions: 1996-2003: Legacy format uppercase column names (e.g., TOT_ALL, TOT_M_IND, K_TOTAL) multiracial Pacific Islander categories (tracked separately 2000s) Race demographics stored separate M/F columns summed 2004-2009: Transitional format lowercase column names 2010-present: Modern format consistent lowercase names (e.g., tot_all, tot_ai, k_totl) Includes multiracial Pacific Islander categories package handles formats automatically - just specify year want.","code":""},{"path":"https://almartin82.github.io/mischooldata/articles/mischooldata.html","id":"building-vs-district-vs-state-data","dir":"Articles","previous_headings":"Troubleshooting","what":"Building vs District vs State Data","title":"Getting Started with mischooldata","text":"year’s data includes three levels aggregation: Building: Individual schools (3,500+ Michigan) District: School districts (~800 Michigan) State: Statewide totals Use is_state, is_district, is_campus flags filter level need.","code":""},{"path":"https://almartin82.github.io/mischooldata/articles/mischooldata.html","id":"getting-help","dir":"Articles","previous_headings":"","what":"Getting Help","title":"Getting Started with mischooldata","text":"Report issues : https://github.com/almartin82/mischooldata/issues","code":"sessionInfo()"},{"path":"https://almartin82.github.io/mischooldata/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Al Martin. Author, maintainer.","code":""},{"path":"https://almartin82.github.io/mischooldata/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Martin (2026). mischooldata: Michigan School Data. R package version 0.1.0, https://almartin82.github.io/mischooldata/.","code":"@Manual{,   title = {mischooldata: Michigan School Data},   author = {Al Martin},   year = {2026},   note = {R package version 0.1.0},   url = {https://almartin82.github.io/mischooldata/}, }"},{"path":"https://almartin82.github.io/mischooldata/index.html","id":"mischooldata","dir":"","previous_headings":"","what":"Michigan School Data","title":"Michigan School Data","text":"Documentation | Getting Started | Enrollment Trends Fetch analyze Michigan school enrollment data Center Educational Performance Information (CEPI) R Python.","code":""},{"path":"https://almartin82.github.io/mischooldata/index.html","id":"why-this-package-exists","dir":"","previous_headings":"","what":"Why this package exists","title":"Michigan School Data","text":"package part State Schooldata Project, provides simple, consistent interface accessing state-published school data Python R. original njschooldata package New Jersey inspired effort cover 50 states. Michigan publishes detailed enrollment data CEPI, files scattered across multiple URLs, use different formats year, require significant cleaning. package handles complexity can focus analysis.","code":""},{"path":"https://almartin82.github.io/mischooldata/index.html","id":"what-can-you-find-with-mischooldata","dir":"","previous_headings":"","what":"What can you find with mischooldata?","title":"Michigan School Data","text":"30 years enrollment data (1996-2025). 1.4 million students. 880+ districts. fifteen stories hiding numbers:","code":""},{"path":"https://almartin82.github.io/mischooldata/index.html","id":"id_1-detroits-collapse-is-staggering","dir":"","previous_headings":"What can you find with mischooldata?","what":"1. Detroit’s collapse is staggering","title":"Michigan School Data","text":"Detroit Public Schools lost 100,000 students since 2000. district went 154,648 students 2000 (Detroit City School District) 48,117 2025 (Detroit Public Schools Community District 2016 restructuring). represents one dramatic urban enrollment declines American education history.","code":"library(mischooldata) library(dplyr)  # Note: Detroit district ID changed from 82010 to 82015 in 2016 restructuring enr_long <- fetch_enr_multi(c(2000, 2005, 2010, 2020, 2025), use_cache = TRUE)  enr_long %>%   filter(is_district,          grepl(\"Detroit City|Detroit Public Schools Community\", district_name),          subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   select(end_year, district_name, n_students) #> # A tibble: 5 x 3 #>   end_year district_name                            n_students #>      <dbl> <chr>                                         <dbl> #> 1     2000 Detroit City School District                 154648 #> 2     2005 Detroit City School District                 141406 #> 3     2010 Detroit City School District                  87877 #> 4     2020 Detroit Public Schools Community District     50016 #> 5     2025 Detroit Public Schools Community District     48117"},{"path":"https://almartin82.github.io/mischooldata/index.html","id":"id_2-statewide-enrollment-has-been-declining","dir":"","previous_headings":"What can you find with mischooldata?","what":"2. Statewide enrollment has been declining","title":"Michigan School Data","text":"Michigan lost 100,000 students since 2018 alone, reflecting demographic shifts economic changes. state peaked around 1.7 million K-12 students now serves approximately 1.4 million.","code":"library(mischooldata) library(dplyr)  enr <- fetch_enr_multi(2018:2025, use_cache = TRUE)  enr %>%   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   select(end_year, n_students) #> # A tibble: 8 x 2 #>   end_year n_students #>      <dbl>      <dbl> #> 1     2018    1468256 #> 2     2019    1453135 #> 3     2020    1444313 #> 4     2021    1398455 #> 5     2022    1392700 #> 6     2023    1383889 #> 7     2024    1373686 #> 8     2025    1366207"},{"path":"https://almartin82.github.io/mischooldata/index.html","id":"id_3-grand-rapids-is-more-diverse-than-you-think","dir":"","previous_headings":"What can you find with mischooldata?","what":"3. Grand Rapids is more diverse than you think","title":"Michigan School Data","text":"Michigan’s second-largest city become majority-minority, Hispanic enrollment growing fastest. Grand Rapids Public Schools now 39.5% Hispanic, 30.1% Black, 22.1% White, 1.0% Asian students.","code":"library(mischooldata) library(dplyr)  enr <- fetch_enr_multi(2018:2025, use_cache = TRUE)  enr %>%   filter(is_district, grepl(\"Grand Rapids Public\", district_name, ignore.case = TRUE),          grade_level == \"TOTAL\", end_year == 2025,          subgroup %in% c(\"white\", \"black\", \"hispanic\", \"asian\")) %>%   select(subgroup, n_students, pct) %>%   mutate(pct = round(pct * 100, 1)) #> # A tibble: 4 x 3 #>   subgroup n_students   pct #>   <chr>         <dbl> <dbl> #> 1 white          2997  22.1 #> 2 black          4077  30.1 #> 3 hispanic       5359  39.5 #> 4 asian           141   1.0"},{"path":"https://almartin82.github.io/mischooldata/index.html","id":"id_4-the-upper-peninsula-is-emptying-out","dir":"","previous_headings":"What can you find with mischooldata?","what":"4. The Upper Peninsula is emptying out","title":"Michigan School Data","text":"districts lost 30% students since 2000 region’s population ages young families move south. Combined enrollment Marquette, Houghton, Iron Mountain, Menominee area districts dropped 11,280 7,733.","code":"library(mischooldata) library(dplyr)  enr_long <- fetch_enr_multi(c(2000, 2005, 2010, 2020, 2025), use_cache = TRUE)  up_districts <- c(\"Marquette\", \"Houghton\", \"Iron Mountain\", \"Menominee\") enr_long %>%   filter(is_district, grepl(paste(up_districts, collapse = \"|\"), district_name, ignore.case = TRUE),          subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   group_by(end_year) %>%   summarize(n_students = sum(n_students, na.rm = TRUE), .groups = \"drop\") #> # A tibble: 5 x 2 #>   end_year n_students #>      <dbl>      <dbl> #> 1     2000      11280 #> 2     2005      10250 #> 3     2010       9115 #> 4     2020       7975 #> 5     2025       7733"},{"path":"https://almartin82.github.io/mischooldata/index.html","id":"id_5-covid-hit-kindergarten-hard","dir":"","previous_headings":"What can you find with mischooldata?","what":"5. COVID hit kindergarten hard","title":"Michigan School Data","text":"Michigan lost nearly 14,000 kindergartners 2021 (120,133 2020 106,539 2021) hasn’t fully recovered. pandemic disrupted transition formal schooling thousands Michigan families.","code":"library(mischooldata) library(dplyr)  enr <- fetch_enr_multi(2018:2025, use_cache = TRUE)  enr %>%   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"K\") %>%   select(end_year, n_students) #> # A tibble: 8 x 2 #>   end_year n_students #>      <dbl>      <dbl> #> 1     2018     116636 #> 2     2019     117694 #> 3     2020     120133 #> 4     2021     106539 #> 5     2022     114744 #> 6     2023     113864 #> 7     2024     110738 #> 8     2025     108230"},{"path":"https://almartin82.github.io/mischooldata/index.html","id":"id_6-ann-arbor-island-of-stability","dir":"","previous_headings":"What can you find with mischooldata?","what":"6. Ann Arbor: island of stability","title":"Michigan School Data","text":"Detroit hemorrhages students, Ann Arbor Public Schools maintains around 16,800 students high diversity. university town’s economic stability educated workforce create different enrollment trajectory.","code":"library(mischooldata) library(dplyr)  enr <- fetch_enr_multi(2018:2025, use_cache = TRUE)  enr %>%   filter(is_district, grepl(\"Ann Arbor Public Schools\", district_name, ignore.case = TRUE),          subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   select(end_year, n_students) #> # A tibble: 8 x 2 #>   end_year n_students #>      <dbl>      <dbl> #> 1     2018      17669 #> 2     2019      17950 #> 3     2020      17942 #> 4     2021      17386 #> 5     2022      17016 #> 6     2023      16961 #> 7     2024      16918 #> 8     2025      16810"},{"path":"https://almartin82.github.io/mischooldata/index.html","id":"id_7-multiracial-enrollment-growing-fastest","dir":"","previous_headings":"What can you find with mischooldata?","what":"7. Multiracial enrollment growing fastest","title":"Michigan School Data","text":"Multiracial students Michigan’s fastest-growing demographic, increasing 31% 57,291 75,055 students since 2018. overall enrollment declines, multiracial Hispanic populations continue grow.","code":"library(mischooldata) library(dplyr)  enr <- fetch_enr_multi(2018:2025, use_cache = TRUE)  enr %>%   filter(is_state, subgroup == \"multiracial\", grade_level == \"TOTAL\") %>%   select(end_year, n_students) #> # A tibble: 8 x 2 #>   end_year n_students #>      <dbl>      <dbl> #> 1     2018      57291 #> 2     2019      60457 #> 3     2020      63515 #> 4     2021      65101 #> 5     2022      68328 #> 6     2023      70956 #> 7     2024      73294 #> 8     2025      75055"},{"path":"https://almartin82.github.io/mischooldata/index.html","id":"id_8-largest-districts-by-enrollment","dir":"","previous_headings":"What can you find with mischooldata?","what":"8. Largest districts by enrollment","title":"Michigan School Data","text":"10 largest districts represent mix urban, suburban, diverse communities. Detroit remains largest despite decades decline, followed suburban powerhouses like Utica Dearborn.","code":"library(mischooldata) library(dplyr)  enr_current <- fetch_enr(2025, use_cache = TRUE)  enr_current %>%   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   arrange(desc(n_students)) %>%   head(10) %>%   select(district_name, n_students) #> # A tibble: 10 x 2 #>    district_name                            n_students #>    <chr>                                         <dbl> #>  1 Detroit Public Schools Community District     48117 #>  2 Utica Community Schools                       25092 #>  3 Dearborn City School District                 19168 #>  4 Ann Arbor Public Schools                      16810 #>  5 Plymouth-Canton Community Schools             15885 #>  6 Rochester Community School District           14592 #>  7 Chippewa Valley Schools                       14155 #>  8 Grand Rapids Public Schools                   13566 #>  9 Livonia Public Schools School District        12818 #> 10 Warren Consolidated Schools                   12421"},{"path":"https://almartin82.github.io/mischooldata/index.html","id":"id_9-flints-water-crisis-visible-in-enrollment","dir":"","previous_headings":"What can you find with mischooldata?","what":"9. Flint’s water crisis visible in enrollment","title":"Michigan School Data","text":"Flint, School District City , lost 44% students since 2018, dropping 4,503 2,541. water crisis accelerated already declining enrollment families fled city.","code":"library(mischooldata) library(dplyr)  enr <- fetch_enr_multi(2018:2025, use_cache = TRUE)  enr %>%   filter(is_district, grepl(\"Flint, School District\", district_name, ignore.case = TRUE),          subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   select(end_year, n_students) #> # A tibble: 8 x 2 #>   end_year n_students #>      <dbl>      <dbl> #> 1     2018       4503 #> 2     2019       4183 #> 3     2020       3700 #> 4     2021       3122 #> 5     2022       2989 #> 6     2023       2790 #> 7     2024       2835 #> 8     2025       2541"},{"path":"https://almartin82.github.io/mischooldata/index.html","id":"id_10-oakland-county-suburbs-holding","dir":"","previous_headings":"What can you find with mischooldata?","what":"10. Oakland County suburbs holding","title":"Michigan School Data","text":"Oakland County districts like Troy, Rochester, Novi, Farmington maintain strong enrollment Detroit collapses. affluent suburbs benefit strong economies excellent school reputations.","code":"library(mischooldata) library(dplyr)  enr <- fetch_enr_multi(2018:2025, use_cache = TRUE)  oakland <- c(\"Troy\", \"Rochester\", \"Novi\", \"Farmington\") enr %>%   filter(is_district, grepl(paste(oakland, collapse = \"|\"), district_name, ignore.case = TRUE),          subgroup == \"total_enrollment\", grade_level == \"TOTAL\", end_year == 2025) %>%   select(district_name, n_students) %>%   arrange(desc(n_students)) #> # A tibble: 4 x 2 #>   district_name                    n_students #>   <chr>                                 <dbl> #> 1 Rochester Community School District   14592 #> 2 Troy School District                  12128 #> 3 Farmington Public School District      8937 #> 4 Novi Community School District         6722"},{"path":"https://almartin82.github.io/mischooldata/index.html","id":"id_11-dearborn-arab-american-educational-hub","dir":"","previous_headings":"What can you find with mischooldata?","what":"11. Dearborn: Arab American educational hub","title":"Michigan School Data","text":"Dearborn City School District serves one largest Arab American communities nation 19,168 students. district maintains stable enrollment unique demographic profile.","code":"library(mischooldata) library(dplyr)  enr <- fetch_enr_multi(2018:2025, use_cache = TRUE)  enr %>%   filter(is_district, grepl(\"Dearborn City\", district_name, ignore.case = TRUE),          subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   select(end_year, n_students) #> # A tibble: 8 x 2 #>   end_year n_students #>      <dbl>      <dbl> #> 1     2018      20346 #> 2     2019      20052 #> 3     2020      20001 #> 4     2021      19353 #> 5     2022      19392 #> 6     2023      19252 #> 7     2024      19205 #> 8     2025      19168"},{"path":"https://almartin82.github.io/mischooldata/index.html","id":"id_12-black-student-enrollment-declining","dir":"","previous_headings":"What can you find with mischooldata?","what":"12. Black student enrollment declining","title":"Michigan School Data","text":"Black student enrollment Michigan declined 260,423 2018 246,009 2025, driven primarily Detroit’s collapse. demographic shift reshaping state’s educational landscape.","code":"library(mischooldata) library(dplyr)  enr <- fetch_enr_multi(2018:2025, use_cache = TRUE)  enr %>%   filter(is_state, subgroup == \"black\", grade_level == \"TOTAL\") %>%   select(end_year, n_students) #> # A tibble: 8 x 2 #>   end_year n_students #>      <dbl>      <dbl> #> 1     2018     260423 #> 2     2019     256379 #> 3     2020     255296 #> 4     2021     246583 #> 5     2022     246831 #> 6     2023     246629 #> 7     2024     245569 #> 8     2025     246009"},{"path":"https://almartin82.github.io/mischooldata/index.html","id":"id_13-lansing-bucking-the-urban-decline","dir":"","previous_headings":"What can you find with mischooldata?","what":"13. Lansing bucking the urban decline","title":"Michigan School Data","text":"Unlike Detroit Flint, Lansing Public School District maintained relatively stable enrollment around 10,000 students. state capital’s diverse economy state government employment provide buffer.","code":"library(mischooldata) library(dplyr)  enr <- fetch_enr_multi(2018:2025, use_cache = TRUE)  enr %>%   filter(is_district, grepl(\"Lansing Public School District\", district_name, ignore.case = TRUE),          subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   select(end_year, n_students) #> # A tibble: 8 x 2 #>   end_year n_students #>      <dbl>      <dbl> #> 1     2018      10641 #> 2     2019      10462 #> 3     2020      10440 #> 4     2021       9862 #> 5     2022      10015 #> 6     2023       9866 #> 7     2024      10022 #> 8     2025       9808"},{"path":"https://almartin82.github.io/mischooldata/index.html","id":"id_14-high-school-enrollment-shrinking-faster","dir":"","previous_headings":"What can you find with mischooldata?","what":"14. High school enrollment shrinking faster","title":"Michigan School Data","text":"High school grades shrinking faster elementary grades statewide, birth rate decline 2008 recession reaches secondary schools.","code":"library(mischooldata) library(dplyr)  enr <- fetch_enr_multi(2018:2025, use_cache = TRUE)  enr %>%   filter(is_state, subgroup == \"total_enrollment\",          grade_level %in% c(\"K\", \"01\", \"02\", \"03\", \"04\", \"05\",                             \"09\", \"10\", \"11\", \"12\")) %>%   mutate(level = ifelse(grade_level %in% c(\"K\", \"01\", \"02\", \"03\", \"04\", \"05\"),                         \"Elementary (K-5)\", \"High School (9-12)\")) %>%   group_by(end_year, level) %>%   summarize(n_students = sum(n_students, na.rm = TRUE), .groups = \"drop\") %>%   filter(end_year %in% c(2018, 2025)) #> # A tibble: 4 x 3 #>   end_year level              n_students #>      <dbl> <chr>                   <dbl> #> 1     2018 Elementary (K-5)       657918 #> 2     2018 High School (9-12)     431655 #> 3     2025 Elementary (K-5)       620328 #> 4     2025 High School (9-12)     397098"},{"path":"https://almartin82.github.io/mischooldata/index.html","id":"id_15-demographic-transformation-michigans-changing-face","dir":"","previous_headings":"What can you find with mischooldata?","what":"15. Demographic transformation: Michigan’s changing face","title":"Michigan School Data","text":"Michigan’s racial demographics shifting. White students now make 62.6% (855,383), Black 18.0% (246,009), Hispanic 9.5% (129,236), Multiracial 5.5% (75,055), Asian 3.8% (51,423).","code":"library(mischooldata) library(dplyr)  enr <- fetch_enr_multi(2018:2025, use_cache = TRUE)  enr %>%   filter(is_state, grade_level == \"TOTAL\", end_year == 2025,          subgroup %in% c(\"white\", \"black\", \"hispanic\", \"asian\", \"multiracial\")) %>%   select(subgroup, n_students, pct) %>%   mutate(pct = round(pct * 100, 1)) %>%   arrange(desc(n_students)) #> # A tibble: 5 x 3 #>   subgroup    n_students   pct #>   <chr>            <dbl> <dbl> #> 1 white           855383  62.6 #> 2 black           246009  18.0 #> 3 hispanic        129236   9.5 #> 4 multiracial      75055   5.5 #> 5 asian            51423   3.8"},{"path":"https://almartin82.github.io/mischooldata/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Michigan School Data","text":"","code":"# install.packages(\"remotes\") remotes::install_github(\"almartin82/mischooldata\")"},{"path":[]},{"path":"https://almartin82.github.io/mischooldata/index.html","id":"r","dir":"","previous_headings":"Quick start","what":"R","title":"Michigan School Data","text":"","code":"library(mischooldata) library(dplyr)  # Fetch one year enr_2025 <- fetch_enr(2025, use_cache = TRUE)  # Fetch multiple years enr_multi <- fetch_enr_multi(2020:2025, use_cache = TRUE)  # State totals enr_2025 %>%   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   select(end_year, n_students) #> # A tibble: 1 x 2 #>   end_year n_students #>      <dbl>      <dbl> #> 1     2025    1366207  # Largest districts enr_2025 %>%   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   arrange(desc(n_students)) %>%   head(5) %>%   select(district_name, n_students) #> # A tibble: 5 x 2 #>   district_name                            n_students #>   <chr>                                         <dbl> #> 1 Detroit Public Schools Community District     48117 #> 2 Utica Community Schools                       25092 #> 3 Dearborn City School District                 19168 #> 4 Ann Arbor Public Schools                      16810 #> 5 Plymouth-Canton Community Schools             15885"},{"path":"https://almartin82.github.io/mischooldata/index.html","id":"python","dir":"","previous_headings":"Quick start","what":"Python","title":"Michigan School Data","text":"","code":"import pymischooldata as mi  # Check available years years = mi.get_available_years() print(f\"Data available from {years['min_year']} to {years['max_year']}\") #> Data available from 1996 to 2025  # Fetch one year enr_2025 = mi.fetch_enr(2025)  # State totals state_total = enr_2025[     (enr_2025['is_state'] == True) &     (enr_2025['subgroup'] == 'total_enrollment') &     (enr_2025['grade_level'] == 'TOTAL') ] print(state_total[['end_year', 'n_students']]) #>    end_year  n_students #> 0      2025     1366207"},{"path":[]},{"path":"https://almartin82.github.io/mischooldata/index.html","id":"data-source","dir":"","previous_headings":"Data Notes","what":"Data Source","title":"Michigan School Data","text":"data sourced directly Michigan Center Educational Performance Information (CEPI): - Main portal: https://www.mischooldata.org/ - Data files: https://www.mischooldata.org/student-enrollment-counts-data-files/ - CEPI home: https://www.michigan.gov/cepi","code":""},{"path":"https://almartin82.github.io/mischooldata/index.html","id":"available-years","dir":"","previous_headings":"Data Notes","what":"Available Years","title":"Michigan School Data","text":"Full range: 1996-2025 (30 school years) Note: 2015 data uses .xlsb format requires special handling","code":""},{"path":"https://almartin82.github.io/mischooldata/index.html","id":"collection-period","dir":"","previous_headings":"Data Notes","what":"Collection Period","title":"Michigan School Data","text":"Michigan enrollment data collected Count Day, typically first Wednesday October (Fall Count) second Wednesday February (Spring Count). package uses Fall Count data.","code":""},{"path":"https://almartin82.github.io/mischooldata/index.html","id":"suppression-rules","dir":"","previous_headings":"Data Notes","what":"Suppression Rules","title":"Michigan School Data","text":"CEPI suppresses (shows blank/NA) student counts : - Cell counts less 10 students demographic breakdowns - suppression necessary prevent identification individual students","code":""},{"path":"https://almartin82.github.io/mischooldata/index.html","id":"known-data-quality-issues","dir":"","previous_headings":"Data Notes","what":"Known Data Quality Issues","title":"Michigan School Data","text":"Detroit restructuring (2016): Detroit City School District (82010) restructured Detroit Public Schools Community District (82015) 2016. Historical analysis account ID change. Charter school proliferation: Michigan ~300 charter schools (PSAs - Public School Academies) counted separate districts. Schools Choice: Inter-district enrollment means students counted districts different residence.","code":""},{"path":"https://almartin82.github.io/mischooldata/index.html","id":"entity-levels","dir":"","previous_headings":"Data Notes","what":"Entity Levels","title":"Michigan School Data","text":"State: Statewide totals District: 880+ traditional public school districts plus charter schools Building: 3,500+ individual schools","code":""},{"path":"https://almartin82.github.io/mischooldata/index.html","id":"districtbuilding-codes","dir":"","previous_headings":"Data Notes","what":"District/Building Codes","title":"Michigan School Data","text":"District Code: 5 digits (e.g., 82015 = Detroit Public Schools) Building Code: 5 digits ISD Code: First 2 digits district code indicate Intermediate School District","code":""},{"path":[]},{"path":"https://almartin82.github.io/mischooldata/index.html","id":"part-of-the-state-schooldata-project","dir":"","previous_headings":"","what":"Part of the State Schooldata Project","title":"Michigan School Data","text":"package part larger effort provide simple, consistent access state-published school data across 50 states. project started njschooldata (New Jersey) expanded cover entire country. 50 state packages: github.com/almartin82","code":""},{"path":"https://almartin82.github.io/mischooldata/index.html","id":"author","dir":"","previous_headings":"","what":"Author","title":"Michigan School Data","text":"Andy Martin (almartin@gmail.com)","code":""},{"path":"https://almartin82.github.io/mischooldata/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"Michigan School Data","text":"MIT","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/cache_exists.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if cached data exists and is valid — cache_exists","title":"Check if cached data exists and is valid — cache_exists","text":"Check cached data exists valid","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/cache_exists.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if cached data exists and is valid — cache_exists","text":"","code":"cache_exists(end_year, type, max_age = 30)"},{"path":"https://almartin82.github.io/mischooldata/reference/cache_exists.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if cached data exists and is valid — cache_exists","text":"end_year School year end type Data type (\"tidy\" \"wide\") max_age Maximum age days (default 30)","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/cache_exists.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if cached data exists and is valid — cache_exists","text":"TRUE valid cache exists","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/cache_status.html","id":null,"dir":"Reference","previous_headings":"","what":"Show cache status — cache_status","title":"Show cache status — cache_status","text":"Lists cached data files size age.","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/cache_status.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Show cache status — cache_status","text":"","code":"cache_status()"},{"path":"https://almartin82.github.io/mischooldata/reference/cache_status.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Show cache status — cache_status","text":"Data frame cache information (invisibly)","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/cache_status.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Show cache status — cache_status","text":"","code":"if (FALSE) { # \\dontrun{ cache_status() } # }"},{"path":"https://almartin82.github.io/mischooldata/reference/clear_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Clear the mischooldata cache — clear_cache","title":"Clear the mischooldata cache — clear_cache","text":"Removes cached data files.","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/clear_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clear the mischooldata cache — clear_cache","text":"","code":"clear_cache(end_year = NULL, type = NULL)"},{"path":"https://almartin82.github.io/mischooldata/reference/clear_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clear the mischooldata cache — clear_cache","text":"end_year Optional school year clear. NULL, clears years. type Optional data type clear. NULL, clears types.","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/clear_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clear the mischooldata cache — clear_cache","text":"Invisibly returns number files removed","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/clear_cache.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Clear the mischooldata cache — clear_cache","text":"","code":"if (FALSE) { # \\dontrun{ # Clear all cached data clear_cache()  # Clear only 2024 data clear_cache(2024)  # Clear only tidy format data clear_cache(type = \"tidy\") } # }"},{"path":"https://almartin82.github.io/mischooldata/reference/create_state_aggregate.html","id":null,"dir":"Reference","previous_headings":"","what":"Create state-level aggregate from district data — create_state_aggregate","title":"Create state-level aggregate from district data — create_state_aggregate","text":"used fallback Excel file state sheet.","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/create_state_aggregate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create state-level aggregate from district data — create_state_aggregate","text":"","code":"create_state_aggregate(district_df, end_year)"},{"path":"https://almartin82.github.io/mischooldata/reference/create_state_aggregate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create state-level aggregate from district data — create_state_aggregate","text":"district_df Processed district data frame end_year School year end","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/create_state_aggregate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create state-level aggregate from district data — create_state_aggregate","text":"Single-row data frame state totals","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/enr_grade_aggs.html","id":null,"dir":"Reference","previous_headings":"","what":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"Creates aggregations common grade groupings: K-8, 9-12 (HS), K-12.","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/enr_grade_aggs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"","code":"enr_grade_aggs(df)"},{"path":"https://almartin82.github.io/mischooldata/reference/enr_grade_aggs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"df tidy enrollment df","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/enr_grade_aggs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"df aggregated enrollment data","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/enr_grade_aggs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"","code":"if (FALSE) { # \\dontrun{ tidy_data <- fetch_enr(2024) grade_aggs <- enr_grade_aggs(tidy_data) } # }"},{"path":"https://almartin82.github.io/mischooldata/reference/fetch_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch Michigan enrollment data — fetch_enr","title":"Fetch Michigan enrollment data — fetch_enr","text":"Downloads processes enrollment data Michigan CEPI MI School Data headcount files.","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/fetch_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch Michigan enrollment data — fetch_enr","text":"","code":"fetch_enr(end_year, tidy = TRUE, use_cache = TRUE)"},{"path":"https://almartin82.github.io/mischooldata/reference/fetch_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch Michigan enrollment data — fetch_enr","text":"end_year school year. Year end academic year - eg 2023-24 school year year '2024'. Valid values 1996-2025. tidy TRUE (default), returns data long (tidy) format subgroup column. FALSE, returns wide format. use_cache TRUE (default), uses locally cached data available. Set FALSE force re-download CEPI.","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/fetch_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch Michigan enrollment data — fetch_enr","text":"Data frame enrollment data. Wide format includes columns district_id, campus_id, names, enrollment counts demographic/grade. Tidy format pivots counts subgroup grade_level columns.","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/fetch_enr.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch Michigan enrollment data — fetch_enr","text":"","code":"if (FALSE) { # \\dontrun{ # Get 2024 enrollment data (2023-24 school year) enr_2024 <- fetch_enr(2024)  # Get wide format enr_wide <- fetch_enr(2024, tidy = FALSE)  # Force fresh download (ignore cache) enr_fresh <- fetch_enr(2024, use_cache = FALSE)  # Filter to specific district (Detroit) detroit <- enr_2024 |>   dplyr::filter(district_id == \"82015\") } # }"},{"path":"https://almartin82.github.io/mischooldata/reference/fetch_enr_multi.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch enrollment data for multiple years — fetch_enr_multi","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"Downloads combines enrollment data multiple school years.","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/fetch_enr_multi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"","code":"fetch_enr_multi(end_years, tidy = TRUE, use_cache = TRUE)"},{"path":"https://almartin82.github.io/mischooldata/reference/fetch_enr_multi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"end_years Vector school year ends (e.g., c(2022, 2023, 2024)) tidy TRUE (default), returns data long (tidy) format. use_cache TRUE (default), uses locally cached data available.","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/fetch_enr_multi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"Combined data frame enrollment data requested years","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/fetch_enr_multi.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"","code":"if (FALSE) { # \\dontrun{ # Get 3 years of data enr_multi <- fetch_enr_multi(2022:2024)  # Track enrollment trends enr_multi |>   dplyr::filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   dplyr::select(end_year, n_students) } # }"},{"path":"https://almartin82.github.io/mischooldata/reference/find_sheet.html","id":null,"dir":"Reference","previous_headings":"","what":"Find a sheet by name pattern — find_sheet","title":"Find a sheet by name pattern — find_sheet","text":"Find sheet name pattern","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/find_sheet.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Find a sheet by name pattern — find_sheet","text":"","code":"find_sheet(sheets, patterns)"},{"path":"https://almartin82.github.io/mischooldata/reference/find_sheet.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Find a sheet by name pattern — find_sheet","text":"sheets Vector sheet names patterns Vector patterns match (order preference)","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/find_sheet.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Find a sheet by name pattern — find_sheet","text":"Matched sheet name NULL","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/get_available_years.html","id":null,"dir":"Reference","previous_headings":"","what":"Get available years for Michigan enrollment data — get_available_years","title":"Get available years for Michigan enrollment data — get_available_years","text":"Returns range years enrollment data can fetched Michigan Center Educational Performance Information (CEPI).","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/get_available_years.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get available years for Michigan enrollment data — get_available_years","text":"","code":"get_available_years()"},{"path":"https://almartin82.github.io/mischooldata/reference/get_available_years.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get available years for Michigan enrollment data — get_available_years","text":"list components: min_year Earliest available year (1996) max_year recent available year (2024) description Human-readable description date range","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/get_available_years.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get available years for Michigan enrollment data — get_available_years","text":"","code":"get_available_years() #> $min_year #> [1] 1996 #>  #> $max_year #> [1] 2025 #>  #> $description #> [1] \"Michigan enrollment data is available from 1996 to 2025\" #>"},{"path":"https://almartin82.github.io/mischooldata/reference/get_cache_dir.html","id":null,"dir":"Reference","previous_headings":"","what":"Get cache directory path — get_cache_dir","title":"Get cache directory path — get_cache_dir","text":"Returns path cache directory, creating necessary. Uses rappdirs cross-platform cache location.","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/get_cache_dir.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get cache directory path — get_cache_dir","text":"","code":"get_cache_dir()"},{"path":"https://almartin82.github.io/mischooldata/reference/get_cache_dir.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get cache directory path — get_cache_dir","text":"Path cache directory","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/get_cache_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Get cache file path for given year and type — get_cache_path","title":"Get cache file path for given year and type — get_cache_path","text":"Get cache file path given year type","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/get_cache_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get cache file path for given year and type — get_cache_path","text":"","code":"get_cache_path(end_year, type)"},{"path":"https://almartin82.github.io/mischooldata/reference/get_cache_path.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get cache file path for given year and type — get_cache_path","text":"end_year School year end type Data type (\"tidy\" \"wide\")","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/get_cache_path.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get cache file path for given year and type — get_cache_path","text":"Full path cache file","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/get_headcount_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the download URL for a specific year — get_headcount_url","title":"Get the download URL for a specific year — get_headcount_url","text":"Constructs download URL MI School Data headcount files. URL patterns change time based CEPI organized files.","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/get_headcount_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the download URL for a specific year — get_headcount_url","text":"","code":"get_headcount_url(end_year)"},{"path":"https://almartin82.github.io/mischooldata/reference/get_headcount_url.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get the download URL for a specific year — get_headcount_url","text":"end_year School year end (e.g., 2024 2023-24)","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/get_headcount_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get the download URL for a specific year — get_headcount_url","text":"Character string download URL","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/get_raw_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Download raw enrollment data from CEPI — get_raw_enr","title":"Download raw enrollment data from CEPI — get_raw_enr","text":"Downloads MI School Data headcount Excel file given year.","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/get_raw_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download raw enrollment data from CEPI — get_raw_enr","text":"","code":"get_raw_enr(end_year)"},{"path":"https://almartin82.github.io/mischooldata/reference/get_raw_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download raw enrollment data from CEPI — get_raw_enr","text":"end_year School year end (e.g., 2024 2023-24)","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/get_raw_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download raw enrollment data from CEPI — get_raw_enr","text":"List building, district, state data frames","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/id_enr_aggs.html","id":null,"dir":"Reference","previous_headings":"","what":"Identify enrollment aggregation levels — id_enr_aggs","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"Adds boolean flags identify state, district, building level records.","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/id_enr_aggs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"","code":"id_enr_aggs(df)"},{"path":"https://almartin82.github.io/mischooldata/reference/id_enr_aggs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"df Enrollment dataframe, output tidy_enr","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/id_enr_aggs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"data.frame boolean aggregation flags","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/id_enr_aggs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"","code":"if (FALSE) { # \\dontrun{ tidy_data <- fetch_enr(2024) # Data already has aggregation flags via id_enr_aggs table(tidy_data$is_state, tidy_data$is_district, tidy_data$is_campus) } # }"},{"path":"https://almartin82.github.io/mischooldata/reference/mischooldata-package.html","id":null,"dir":"Reference","previous_headings":"","what":"mischooldata: Fetch and Process Michigan School Data — mischooldata-package","title":"mischooldata: Fetch and Process Michigan School Data — mischooldata-package","text":"Downloads processes school data Michigan Center Educational Performance Information (CEPI) via MI School Data. Provides functions fetching headcount enrollment data transforming tidy format analysis.","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/mischooldata-package.html","id":"main-functions","dir":"Reference","previous_headings":"","what":"Main functions","title":"mischooldata: Fetch and Process Michigan School Data — mischooldata-package","text":"fetch_enr Fetch enrollment data school year fetch_enr_multi Fetch enrollment data multiple years tidy_enr Transform wide data tidy (long) format id_enr_aggs Add aggregation level flags enr_grade_aggs Create grade-level aggregations","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/mischooldata-package.html","id":"cache-functions","dir":"Reference","previous_headings":"","what":"Cache functions","title":"mischooldata: Fetch and Process Michigan School Data — mischooldata-package","text":"cache_status View cached data files clear_cache Remove cached data files","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/mischooldata-package.html","id":"id-system","dir":"Reference","previous_headings":"","what":"ID System","title":"mischooldata: Fetch and Process Michigan School Data — mischooldata-package","text":"Michigan uses several ID systems: District Code: 5 digits (e.g., 82015 = Detroit Public Schools) Building Code: 5 digits ISD (Intermediate School District) Code: 2 digits","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/mischooldata-package.html","id":"data-sources","dir":"Reference","previous_headings":"","what":"Data Sources","title":"mischooldata: Fetch and Process Michigan School Data — mischooldata-package","text":"Data sourced Michigan CEPI MI School Data system: MI School Data: https://www.mischooldata.org/ CEPI: https://www.michigan.gov/cepi","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/mischooldata-package.html","id":"data-availability","dir":"Reference","previous_headings":"","what":"Data Availability","title":"mischooldata: Fetch and Process Michigan School Data — mischooldata-package","text":"Michigan provides enrollment headcount data 1995-96 present: Era 1 (1995-2012): Legacy format combined files Era 2 (2013-2020): Transitional format Fall/Spring separation Era 3 (2021-present): Current format standardized columns","code":""},{"path":[]},{"path":"https://almartin82.github.io/mischooldata/reference/mischooldata-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"mischooldata: Fetch and Process Michigan School Data — mischooldata-package","text":"Maintainer: Al Martin almartin@example.com","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/process_building_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Process building-level enrollment data — process_building_enr","title":"Process building-level enrollment data — process_building_enr","text":"Process building-level enrollment data","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/process_building_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process building-level enrollment data — process_building_enr","text":"","code":"process_building_enr(df, end_year)"},{"path":"https://almartin82.github.io/mischooldata/reference/process_building_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process building-level enrollment data — process_building_enr","text":"df Raw building data frame end_year School year end","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/process_building_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process building-level enrollment data — process_building_enr","text":"Processed building data frame","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/process_district_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Process district-level enrollment data — process_district_enr","title":"Process district-level enrollment data — process_district_enr","text":"Process district-level enrollment data","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/process_district_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process district-level enrollment data — process_district_enr","text":"","code":"process_district_enr(df, end_year)"},{"path":"https://almartin82.github.io/mischooldata/reference/process_district_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process district-level enrollment data — process_district_enr","text":"df Raw district data frame end_year School year end","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/process_district_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process district-level enrollment data — process_district_enr","text":"Processed district data frame","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/process_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Process raw CEPI enrollment data — process_enr","title":"Process raw CEPI enrollment data — process_enr","text":"Transforms raw data standardized schema combining building, district, state data.","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/process_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process raw CEPI enrollment data — process_enr","text":"","code":"process_enr(raw_data, end_year)"},{"path":"https://almartin82.github.io/mischooldata/reference/process_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process raw CEPI enrollment data — process_enr","text":"raw_data List containing building, district, state data frames get_raw_enr end_year School year end","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/process_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process raw CEPI enrollment data — process_enr","text":"Processed data frame standardized columns","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/process_state_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Process state-level enrollment data — process_state_enr","title":"Process state-level enrollment data — process_state_enr","text":"Process state-level enrollment data","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/process_state_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process state-level enrollment data — process_state_enr","text":"","code":"process_state_enr(df, end_year)"},{"path":"https://almartin82.github.io/mischooldata/reference/process_state_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process state-level enrollment data — process_state_enr","text":"df Raw state data frame end_year School year end","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/process_state_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process state-level enrollment data — process_state_enr","text":"Processed state data frame (single row)","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/read_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Read data from cache — read_cache","title":"Read data from cache — read_cache","text":"Read data cache","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/read_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read data from cache — read_cache","text":"","code":"read_cache(end_year, type)"},{"path":"https://almartin82.github.io/mischooldata/reference/read_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read data from cache — read_cache","text":"end_year School year end type Data type (\"tidy\" \"wide\")","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/read_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read data from cache — read_cache","text":"Cached data frame","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/read_headcount_sheet.html","id":null,"dir":"Reference","previous_headings":"","what":"Read a headcount sheet from the Excel file — read_headcount_sheet","title":"Read a headcount sheet from the Excel file — read_headcount_sheet","text":"Read headcount sheet Excel file","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/read_headcount_sheet.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read a headcount sheet from the Excel file — read_headcount_sheet","text":"","code":"read_headcount_sheet(file_path, sheet_name, level, end_year = 2024)"},{"path":"https://almartin82.github.io/mischooldata/reference/read_headcount_sheet.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read a headcount sheet from the Excel file — read_headcount_sheet","text":"file_path Path Excel file sheet_name Name sheet read level Data level (building, district, state) end_year School year end (used determine file format era)","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/read_headcount_sheet.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read a headcount sheet from the Excel file — read_headcount_sheet","text":"Data frame","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/safe_numeric.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert to numeric, handling suppression markers — safe_numeric","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"Michigan uses various markers suppressed data (*, <, etc.)","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/safe_numeric.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"","code":"safe_numeric(x)"},{"path":"https://almartin82.github.io/mischooldata/reference/safe_numeric.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"x Vector convert","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/safe_numeric.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"Numeric vector NA non-numeric values","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/tidy_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Tidy enrollment data — tidy_enr","title":"Tidy enrollment data — tidy_enr","text":"Transforms wide enrollment data long format subgroup column.","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/tidy_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tidy enrollment data — tidy_enr","text":"","code":"tidy_enr(df)"},{"path":"https://almartin82.github.io/mischooldata/reference/tidy_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Tidy enrollment data — tidy_enr","text":"df wide data.frame processed enrollment data","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/tidy_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tidy enrollment data — tidy_enr","text":"long data.frame tidied enrollment data","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/tidy_enr.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Tidy enrollment data — tidy_enr","text":"","code":"if (FALSE) { # \\dontrun{ wide_data <- fetch_enr(2024, tidy = FALSE) tidy_data <- tidy_enr(wide_data) } # }"},{"path":"https://almartin82.github.io/mischooldata/reference/write_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Write data to cache — write_cache","title":"Write data to cache — write_cache","text":"Write data cache","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/write_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write data to cache — write_cache","text":"","code":"write_cache(df, end_year, type)"},{"path":"https://almartin82.github.io/mischooldata/reference/write_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write data to cache — write_cache","text":"df Data frame cache end_year School year end type Data type (\"tidy\" \"wide\")","code":""},{"path":"https://almartin82.github.io/mischooldata/reference/write_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Write data to cache — write_cache","text":"Invisibly returns cache path","code":""}]
